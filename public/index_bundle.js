/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/cannon-es/dist/cannon-es.js":
/*!**************************************************!*\
  !*** ./node_modules/cannon-es/dist/cannon-es.js ***!
  \**************************************************/
/***/ (() => {

eval("throw new Error(\"Module build failed: Error: ENOENT: no such file or directory, open 'C:\\\\Users\\\\Dimitar\\\\Desktop\\\\golf3d-golf3d\\\\node_modules\\\\cannon-es\\\\dist\\\\cannon-es.js'\");\n\n//# sourceURL=webpack://gamedev-engine/./node_modules/cannon-es/dist/cannon-es.js?");

/***/ }),

/***/ "./node_modules/perlin.js/perlin.js":
/*!******************************************!*\
  !*** ./node_modules/perlin.js/perlin.js ***!
  \******************************************/
/***/ (() => {

eval("throw new Error(\"Module build failed: Error: ENOENT: no such file or directory, open 'C:\\\\Users\\\\Dimitar\\\\Desktop\\\\golf3d-golf3d\\\\node_modules\\\\perlin.js\\\\perlin.js'\");\n\n//# sourceURL=webpack://gamedev-engine/./node_modules/perlin.js/perlin.js?");

/***/ }),

/***/ "./src/init.js":
/*!*********************!*\
  !*** ./src/init.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _engine_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./engine.mjs */ \"./src/engine.mjs\");\n/* harmony import */ var _game_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./game.mjs */ \"./src/game.mjs\");\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module './asset_loading/asset_loader2d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module './asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module './asset_loading/asset_loader_sounds.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n\n\n\n\n\n    \ndocument.body.onload = () => {\n    console.log(\"Front end scripts starting.\");\n\n    // Init sound for game\n    Object(function webpackMissingModule() { var e = new Error(\"Cannot find module './asset_loading/asset_loader_sounds.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\n\n    // 2d canvas image loading (from code.zip)\n    Object(function webpackMissingModule() { var e = new Error(\"Cannot find module './asset_loading/asset_loader2d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\n\n    // 3d assets loading (materials)\n    Object(function webpackMissingModule() { var e = new Error(\"Cannot find module './asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\n    \n    // initGLobalSounds();\n\n    _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.init();\n\n    _game_mjs__WEBPACK_IMPORTED_MODULE_1__.game.init();\n};\n\n//# sourceURL=webpack://gamedev-engine/./src/init.js?");

/***/ }),

/***/ "./node_modules/three/build/three.module.js":
/*!**************************************************!*\
  !*** ./node_modules/three/build/three.module.js ***!
  \**************************************************/
/***/ (() => {

eval("throw new Error(\"Module build failed: Error: ENOENT: no such file or directory, open 'C:\\\\Users\\\\Dimitar\\\\Desktop\\\\golf3d-golf3d\\\\node_modules\\\\three\\\\build\\\\three.module.js'\");\n\n//# sourceURL=webpack://gamedev-engine/./node_modules/three/build/three.module.js?");

/***/ }),

/***/ "./node_modules/three/examples/jsm/controls/OrbitControls.js":
/*!*******************************************************************!*\
  !*** ./node_modules/three/examples/jsm/controls/OrbitControls.js ***!
  \*******************************************************************/
/***/ (() => {

eval("throw new Error(\"Module build failed: Error: ENOENT: no such file or directory, open 'C:\\\\Users\\\\Dimitar\\\\Desktop\\\\golf3d-golf3d\\\\node_modules\\\\three\\\\examples\\\\jsm\\\\controls\\\\OrbitControls.js'\");\n\n//# sourceURL=webpack://gamedev-engine/./node_modules/three/examples/jsm/controls/OrbitControls.js?");

/***/ }),

/***/ "./src/BuildingBlock_no_collision/pine.mjs":
/*!*************************************************!*\
  !*** ./src/BuildingBlock_no_collision/pine.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createPineTree: () => (/* binding */ createPineTree)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _engine_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../engine.mjs */ \"./src/engine.mjs\");\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module '../asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n\n\n\n\nfunction createPineTree(x, y, z) {\n    let treeHeight = 20, nSegments = 5, baseHeight = treeHeight/4, biggestSegmentRadius = 8;\n    let treeGroup = new three__WEBPACK_IMPORTED_MODULE_2__.Group();\n    let trunkGeom = new three__WEBPACK_IMPORTED_MODULE_2__.CylinderGeometry(\n        1, 1, treeHeight, 10 );\n    let trunkMesh = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(trunkGeom, Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '../asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Wood);\n    trunkMesh.position.set(0, treeHeight/2 ,0);\n    console.log(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '../asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Wood)\n    treeGroup.add(trunkMesh);\n    treeGroup.position.set(x, y, z);\n\n\n    for(let i = 0; i <= nSegments; i++) {\n        let treeSegmentGeom = new three__WEBPACK_IMPORTED_MODULE_2__.ConeGeometry( 1 +  biggestSegmentRadius/(2+i), 2 + (treeHeight - baseHeight)/nSegments, 32 );\n        let treeMesh = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(treeSegmentGeom, Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '../asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Grass);\n        treeMesh.position.set(0, baseHeight + i*(treeHeight-baseHeight)/nSegments, 0);\n        treeGroup.add(treeMesh);\n    }\n    _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.scene.add(treeGroup);\n    return treeGroup;\n}\n\n\n\n//# sourceURL=webpack://gamedev-engine/./src/BuildingBlock_no_collision/pine.mjs?");

/***/ }),

/***/ "./src/BuildingBlocks/BuildingBlock.mjs":
/*!**********************************************!*\
  !*** ./src/BuildingBlocks/BuildingBlock.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BuildingBlock: () => (/* binding */ BuildingBlock)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\n/* harmony import */ var _engine_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../engine.mjs */ \"./src/engine.mjs\");\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module '../asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n\n\n\n\n\nclass BuildingBlock {\n    constructor(x, y, z, width, height, depth) {\n        // Block visual representation\n        var geometry = new three__WEBPACK_IMPORTED_MODULE_2__.BoxGeometry(width, height, depth);\n        var material = Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '../asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Concrete1;\n        var cube = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(geometry, material);\n        cube.position.set(x, y, z);\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.scene.add(cube);\n\n        // Block physics and collision detection\n        const groundMaterialPhysics = new cannon_es__WEBPACK_IMPORTED_MODULE_3__.Material(); // Create a new material\n        groundMaterialPhysics.restitution = 0.5; // Set the restitution coefficient to 0.5 (adjust as needed)\n        groundMaterialPhysics.friction = 1;\n        var cubeShape = new cannon_es__WEBPACK_IMPORTED_MODULE_3__.Box(new cannon_es__WEBPACK_IMPORTED_MODULE_3__.Vec3(width/2, height/2, depth/2));\n        var cubeBody = new cannon_es__WEBPACK_IMPORTED_MODULE_3__.Body({ mass: 1000, material: groundMaterialPhysics});\n        cubeBody.addShape(cubeShape);\n        cubeBody.position.set(x, y, z);\n        cubeBody.type = cannon_es__WEBPACK_IMPORTED_MODULE_3__.Body.STATIC;\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.cannonjs_world.addBody(cubeBody);\n    }\n}\n\n\n//# sourceURL=webpack://gamedev-engine/./src/BuildingBlocks/BuildingBlock.mjs?");

/***/ }),

/***/ "./src/BuildingBlocks/Cylinder.mjs":
/*!*****************************************!*\
  !*** ./src/BuildingBlocks/Cylinder.mjs ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cylinder: () => (/* binding */ Cylinder)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\n/* harmony import */ var _engine_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../engine.mjs */ \"./src/engine.mjs\");\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module '../asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n\n\n\n\n\nclass Cylinder {\n    constructor(x, y, z, radius, length) {\n        // Block visual representation\n        var geometry = new three__WEBPACK_IMPORTED_MODULE_2__.CylinderGeometry(radius, radius, length, 32);\n        var cylinder = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(geometry, Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '../asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Concrete2); // Corrected variable name\n        cylinder.position.set(x, y, z);\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.scene.add(cylinder); // Corrected variable name\n\n        // Block physics and collision detection\n        const groundMaterialPhysics = new cannon_es__WEBPACK_IMPORTED_MODULE_3__.Material(); // Create a new material\n        groundMaterialPhysics.restitution = 1; // Set the restitution coefficient to 0.5 (adjust as needed)\n        var cylinderShape = new cannon_es__WEBPACK_IMPORTED_MODULE_3__.Cylinder(radius, radius, length, 32); // Corrected shape definition\n        var cylinderBody = new cannon_es__WEBPACK_IMPORTED_MODULE_3__.Body({ mass: 0, material: groundMaterialPhysics });\n        // var quat = new CANNON.Quaternion();\n        // quat.setFromAxisAngle(new CANNON.Vec3(1, 0, 0), -Math.PI / 2);\n        // var translation = new CANNON.Vec3(0, 0, 0);\n        // cylinderShape.transformAllPoints(translation, quat);\n        cylinderBody.addShape(cylinderShape);\n        cylinderBody.position.set(x, y, z);\n        console.log(cylinderBody.position, cylinder.position);\n        cylinderBody.type = cannon_es__WEBPACK_IMPORTED_MODULE_3__.Body.STATIC;\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.cannonjs_world.addBody(cylinderBody);\n    }\n}\n\n\n//# sourceURL=webpack://gamedev-engine/./src/BuildingBlocks/Cylinder.mjs?");

/***/ }),

/***/ "./src/BuildingBlocks/GolfHole.mjs":
/*!*****************************************!*\
  !*** ./src/BuildingBlocks/GolfHole.mjs ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GolfHole: () => (/* binding */ GolfHole)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\n/* harmony import */ var _engine_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../engine.mjs */ \"./src/engine.mjs\");\n\r\n\r\n\r\nclass GolfHole { \r\n    //dupka\r\n    constructor(x, y, z, radiusTop, RadiusBottom,Height,RadialSegments,HightSegments,x2,y2,z2, radiusTop2, RadiusBottom2 ,Height2) {\r\nconst holeGeometry = new three__WEBPACK_IMPORTED_MODULE_1__.CylinderGeometry(radiusTop, RadiusBottom, Height, RadialSegments, HightSegments);\r\nconst holeMaterial = new three__WEBPACK_IMPORTED_MODULE_1__.MeshBasicMaterial({ color: 0x000000 });\r\nconst hole = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(holeGeometry, holeMaterial);\r\nhole.position.set(x,y,z);\r\n_engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.scene.add(hole); \r\n\r\nconst groundMaterialPhysics = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Material(); \r\ngroundMaterialPhysics.restitution = 0; \r\nvar cylinderShape = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Cylinder(radiusTop, RadiusBottom, Height, RadialSegments);\r\nvar cylinderBody = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Body({ mass: 0, material: groundMaterialPhysics });\r\ncylinderBody.addShape(cylinderShape);\r\ncylinderBody.position.set(x, y, z);\r\nconsole.log(cylinderBody.position, hole.position);\r\ncylinderBody.type = cannon_es__WEBPACK_IMPORTED_MODULE_2__.Body.STATIC;\r\n_engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.cannonjs_world.addBody(cylinderBody);\r\n    //detection point\r\nvar geometry = new three__WEBPACK_IMPORTED_MODULE_1__.CylinderGeometry(radiusTop2, RadiusBottom2 ,Height2);\r\nvar material = new three__WEBPACK_IMPORTED_MODULE_1__.MeshBasicMaterial({ color: 0xff0000, transparent: true, opacity: 0.5 });\r\nvar ellipse = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(geometry, material);\r\nellipse.position.set(x2,y2,z2);\r\n_engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.scene.add(ellipse);\r\n\r\nconst groundMaterialPhysics2 = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Material(); \r\ngroundMaterialPhysics2.restitution = 1; \r\nvar cylinderShape = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Cylinder(radiusTop2, RadiusBottom2, Height2, 32); \r\nvar cylinderBody = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Body({ mass: 0, material: groundMaterialPhysics2 });\r\ncylinderBody.addShape(cylinderShape);\r\ncylinderBody.position.set(x, y, z);\r\nconsole.log(cylinderBody.position, ellipse.position);\r\ncylinderBody.type = cannon_es__WEBPACK_IMPORTED_MODULE_2__.Body.STATIC;\r\n_engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.cannonjs_world.addBody(cylinderBody);\r\n}}\r\n\n\n//# sourceURL=webpack://gamedev-engine/./src/BuildingBlocks/GolfHole.mjs?");

/***/ }),

/***/ "./src/BuildingBlocks/MovingPlatform.mjs":
/*!***********************************************!*\
  !*** ./src/BuildingBlocks/MovingPlatform.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MovingPlatform: () => (/* binding */ MovingPlatform)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\n/* harmony import */ var _engine_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../engine.mjs */ \"./src/engine.mjs\");\n\n\n\n\n/*\nx1,y1,z1 - where the platform initially is\nx2,y2,z2 - where the platform moves to\ntimeToStay - time at which the platform stays at any of the end points (ms)\ntimeToTravel - time which the platform takes to go from position 1 to position 2 (should be ms but just isnt)\n*/ \n\nclass MovingPlatform{\n    constructor(x1, y1, z1, x2, y2, z2, width, height, depth, timeToStay = 1500, timeToTravel = 200) {\n        // Block visual representation\n        var geometry = new three__WEBPACK_IMPORTED_MODULE_1__.BoxGeometry(width, height, depth);\n        var material = new three__WEBPACK_IMPORTED_MODULE_1__.MeshPhongMaterial({ color: 0x00ff00 });\n        var cube = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(geometry, material);\n        cube.position.set(x1, y1, z1);\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.scene.add(cube);\n        this.Mesh = cube; //This is needed to be able to manipulate the mesh of the platform later on\n\n        // Block physics and collision detection\n        const groundMaterialPhysics = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Material(); // Create a new material\n        groundMaterialPhysics.restitution = 0.5; // Set the restitution coefficient to 0.5 (adjust as needed)\n        groundMaterialPhysics.friction = 1;\n        var cubeShape = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Box(new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Vec3(width/2, height/2, depth/2));\n        var cubeBody = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Body({ mass: 1000, material: groundMaterialPhysics});\n        cubeBody.addShape(cubeShape);\n        cubeBody.position.set(x1, y1, z1);\n        cubeBody.type = cannon_es__WEBPACK_IMPORTED_MODULE_2__.Body.STATIC;\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.cannonjs_world.addBody(cubeBody);\n        this.Box = cubeBody; //This is needed so we can manipulate the collision box of the moving object\n\n        //This is needed to know where and how to move the platform later on\n        this.xDiff = x1 - x2;\n        this.yDiff = y1 - y2;\n        this.zDiff = z1 - z2;\n        this.tts = timeToStay;\n        this.ttt = timeToTravel;\n        this.timePassed = 0;\n        this.movingToSecondPosition = -1; //this can be either 1 or -1 and determines the values of variables that affect the movement of the platform\n        this.movingInterval = setInterval(() => {this.move();}, 1);\n        this.w = width;\n        this.h = height;\n        this.d = depth;\n    }\n    move(){\n        if(this.timePassed >= this.ttt){\n            this.movingToSecondPosition = -this.movingToSecondPosition;\n            clearInterval(this.movingInterval);\n            this.timePassed = 0;\n            setTimeout(() => { this.movingInterval = setInterval(() => { this.move() }, 1) }, this.tts);\n        }\n\n        let xMove = this.movingToSecondPosition*(this.xDiff/this.ttt);\n        let yMove = this.movingToSecondPosition*(this.yDiff/this.ttt);\n        let zMove = this.movingToSecondPosition*(this.zDiff/this.ttt);\n\n        //Offset both the mesh and physics object\n        this.Mesh.position.set(this.Mesh.position.x+xMove, this.Mesh.position.y+yMove, this.Mesh.position.z+zMove);\n        this.Box.position.set(this.Box.position.x+xMove, this.Box.position.y+yMove, this.Box.position.z+zMove);\n\n        //This checks whether the ball is sitting atop the platform\n        if(ballMesh.position.x > this.Mesh.position.x - this.w/2 && ballMesh.position.x < this.Mesh.position.x + this.w/2\n        && ballMesh.position.z > this.Mesh.position.z - this.d/2 && ballMesh.position.z < this.Mesh.position.z + this.d/2\n        && ballMesh.position.y > this.Mesh.position.y + this.h/2 && ballMesh.position.y < this.Mesh.position.y + 2.1){ \n            ballBody.position.set(ballBody.position.x + xMove, ballBody.position.y + yMove, ballBody.position.z + zMove); //Only update ballBody because the mesh will take its coordinates anyway\n        }\n        this.timePassed++;\n    }\n}\n\n\n//# sourceURL=webpack://gamedev-engine/./src/BuildingBlocks/MovingPlatform.mjs?");

/***/ }),

/***/ "./src/BuildingBlocks/Particle.mjs":
/*!*****************************************!*\
  !*** ./src/BuildingBlocks/Particle.mjs ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Emitter: () => (/* binding */ Emitter),\n/* harmony export */   Particle: () => (/* binding */ Particle),\n/* harmony export */   createNewEmitter: () => (/* binding */ createNewEmitter),\n/* harmony export */   updateEmitters: () => (/* binding */ updateEmitters)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _engine_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../engine.mjs */ \"./src/engine.mjs\");\n\n\n\nlet emitters = [];\n\n//* One singular particle\nclass Particle {\n    constructor(x, y, z, dx, dy, dz, size, color, lifetime) {\n        //Transform:\n        this.x = x;\n        this.y = y;\n        this.z = z;\n\n        //delta xyz\n        this.dx = dx;\n        this.dy = dy;\n        this.dz = dz;\n\n        this.size = size;\n\n        //Lifetime:\n        this.lifetime = lifetime;\n        this.isDead = false;\n\n\n        //time\n        this.t = 0\n\n        //set up as THREE.js object\n        this.material = new three__WEBPACK_IMPORTED_MODULE_1__.SpriteMaterial({color: color})\n        this.sprite = new three__WEBPACK_IMPORTED_MODULE_1__.Sprite(this.material)\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.scene.add(this.sprite)\n        this.sprite.position.set(this.x, this.y, this.z)\n        this.sprite.scale.set(size, size, 1)\n    }\n\n    updateParticle() {\n        if(!this.isDead) {\n            //update values\n            this.t++\n    \n            this.x += this.dx\n            this.y += this.dy\n            this.z += this.dz\n    \n            //update THREE.js object pos\n            this.sprite.position.set(this.x, this.y, this.z)\n    \n            //lifetime deletion (lifetime in seconds)\n            if(this.t/100 > this.lifetime) {\n                this.killParticle()\n            }\n        }\n    }\n    \n    killParticle() {\n        this.isDead = true;\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.scene.remove(this.sprite)\n        this.material.dispose()\n    }\n}\n\n//* Emitter AKA Particle system which spawns and controls particles\nclass Emitter {\n    constructor(originX, originY, originZ, type, data, index) {\n        //the system will have 2 types of particle emitters - single burst and over time.\n        //The type determines what values will be pulled from this.data\n        //TODO over-time emitter type\n\n        //Transform:\n        this.x = originX;\n        this.y = originY;\n        this.z = originZ;\n\n        //Misc:\n        this.t = 0;\n        this.type = type;\n        this.data = data;\n        this.index = index; //what index this emitter is\n        this.isDead = false;\n\n        this.particles = []\n    }\n    updateEmitter() {\n        if(!this.isDead) {\n\n            this.t++;\n\n            for(let particle of this.particles) {\n                particle.updateParticle()\n            }\n    \n            if(this.type == \"burst\") {\n                //* Data inside of a burst type emitter:\n                //particle_cnt - how many particles to spawn\n                //particle_lifetime - an object with min & max\n                //power - how fast should the particles fly off\n                //fired - whether the emitter already fired a burst\n    \n                if(!this.data.fired) {\n                    //Create particle_cnt particles\n                    for(let p_cnt=0; p_cnt<this.data.particle_cnt; p_cnt++) {\n                        let _lft = null;\n                        _lft = random_range(this.data.particle_lifetime.min, this.data.particle_lifetime.max)\n                        \n                        this.particles.push(new Particle(\n                            this.x, this.y, this.z,\n                            (Math.random() - 0.5) * 2 * this.data.power,\n                            (Math.random() - 0.5) * 2 * this.data.power,\n                            (Math.random() - 0.5) * 2 * this.data.power,\n                            // Particle color\n                            2, 0x013220, _lft\n                        ))\n                    }\n                    this.data.fired = true;\n                }\n            }\n    \n            //delete emitter if no particles exist\n            if(this.particles.length == 0) {\n                this.killEmitter();\n            }\n        }\n\n\n    }\n    killEmitter() {\n        for(let particle of this.particles) {\n            particle.killParticle();\n        }\n        this.isDead = true;\n        emitters.splice(this.index, 1);\n    }\n}\n\nfunction updateEmitters() {\n    emitters.forEach((em, i) => {\n        em.updateEmitter()\n    })\n}\n\nfunction createNewEmitter(originX, originY, originZ, type, data) {\n    emitters.push(new Emitter(originX, originY, originZ, type, data, emitters.length))\n}\n\nfunction random_range(min, max) {\n    return (Math.random() * (max - min + 1)) + min;\n}\n\n\n\n//# sourceURL=webpack://gamedev-engine/./src/BuildingBlocks/Particle.mjs?");

/***/ }),

/***/ "./src/BuildingBlocks/Ramp.mjs":
/*!*************************************!*\
  !*** ./src/BuildingBlocks/Ramp.mjs ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Ramp: () => (/* binding */ Ramp)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\n/* harmony import */ var _engine_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../engine.mjs */ \"./src/engine.mjs\");\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module '../asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n\n\n\n\n\nclass Ramp {\n    constructor(x, y, z, width, dir, angle) {\n        // Block visual representation\n\n        var rampGeometry = new three__WEBPACK_IMPORTED_MODULE_2__.BoxGeometry(width, 1, width);\n        var borderGeometry = new three__WEBPACK_IMPORTED_MODULE_2__.BoxGeometry(width, 3, 2);\n\n        var cube = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(rampGeometry, Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '../asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Grass);\n        var border1 = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(borderGeometry, Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '../asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Wood);\n        var border2 = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(borderGeometry, Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '../asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).Wood);\n\n        border1.position.set(0, 0, 0 - width/2);\n        border2.position.set(0, 0, 0 + width/2);\n        cube.position.set(0, 0, 0);\n\n        // Групираме ги щото искаме да ги трансформираме само веднъж\n        let rampGroup = new three__WEBPACK_IMPORTED_MODULE_2__.Group();\n        rampGroup.add(cube, border1, border2);\n        rampGroup.rotation.y = dir;\n        rampGroup.rotation.z = angle;\n        rampGroup.position.set(x, y, z);\n        // cube.rotation.y = dir;\n        // cube.rotation.z = angle;\n        // border1.rotation.y = dir;\n        // border1.rotation.z = angle;\n        // border2.rotation.y = dir;\n        // border2.rotation.z = angle;\n\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.scene.add(rampGroup);\n\n        // Block physics and collision detection\n        const groundMaterialPhysics = new cannon_es__WEBPACK_IMPORTED_MODULE_3__.Material(); // Create a new material\n        groundMaterialPhysics.restitution = 0.5; // Set the restitution coefficient to 0.5 (adjust as needed)\n        var cubeShape = new cannon_es__WEBPACK_IMPORTED_MODULE_3__.Box(new cannon_es__WEBPACK_IMPORTED_MODULE_3__.Vec3(width/2, 1/2, width/2));\n        var borderShape = new cannon_es__WEBPACK_IMPORTED_MODULE_3__.Box(new cannon_es__WEBPACK_IMPORTED_MODULE_3__.Vec3(width/2, 1.5, 1));\n\n        var cubeBody = new cannon_es__WEBPACK_IMPORTED_MODULE_3__.Body({ mass: 1000, material: groundMaterialPhysics});\n        var border1Body = new cannon_es__WEBPACK_IMPORTED_MODULE_3__.Body({ mass: 1000, material: groundMaterialPhysics});\n\n\n        cubeBody.addShape(cubeShape);\n        border1Body.addShape(borderShape);\n\n\n        // Копираме позиция/ ротация от three.js групата\n        cubeBody.position.copy(rampGroup.position);\n        cubeBody.quaternion.copy(rampGroup.quaternion);\n        \n        border1Body.position.copy(rampGroup.position);\n        border1Body.quaternion.copy(rampGroup.quaternion);\n\n        cubeBody.type = cannon_es__WEBPACK_IMPORTED_MODULE_3__.Body.STATIC;\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.cannonjs_world.addBody(cubeBody);\n    }\n}\n\n\n\n//# sourceURL=webpack://gamedev-engine/./src/BuildingBlocks/Ramp.mjs?");

/***/ }),

/***/ "./src/Sounds.mjs":
/*!************************!*\
  !*** ./src/Sounds.mjs ***!
  \************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initSoundEvents: () => (/* binding */ initSoundEvents),\n/* harmony export */   playMusic: () => (/* binding */ playBackgroundMusic),\n/* harmony export */   playRandomSoundEffect: () => (/* binding */ playRandomSoundEffect),\n/* harmony export */   playRandomSoundEffectFall: () => (/* binding */ playRandomSoundEffectFall)\n/* harmony export */ });\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module './asset_loading/asset_loader_sounds.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.mjs */ \"./src/utils.mjs\");\n\n\n\nfunction playRandomSoundEffect(volume = 0.7) {\n  const randomIndex = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.randomInteger)(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module './asset_loading/asset_loader_sounds.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).randomSoundsArr.length);\n  const soundFile = Object(function webpackMissingModule() { var e = new Error(\"Cannot find module './asset_loading/asset_loader_sounds.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).randomSoundsArr[randomIndex];\n  soundFile.volume = volume;\n  soundFile.play();\n}\n\nfunction playRandomSoundEffectFall(volume = 0.7) {\n  let soundFile = Object(function webpackMissingModule() { var e = new Error(\"Cannot find module './asset_loading/asset_loader_sounds.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).bounceAudio;\n  soundFile.volume = volume;\n  soundFile.play();\n}\nfunction playBackgroundMusic(volume = 0.4) {\n  let isMusicPlaying = false;\n  var audio = Object(function webpackMissingModule() { var e = new Error(\"Cannot find module './asset_loading/asset_loader_sounds.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).bgMusicSound;\n  if (audio) {\n    audio.loop = true;\n    audio.play().then(() => { // Handle play promise\n      isMusicPlaying = false; // Reset flag after playback ends (or error)\n    }).catch(() => {\n      isMusicPlaying = false; // Reset flag in case of errors\n    });\n    audio.volume = volume;\n  }\n};\n\nfunction initSoundEvents() {\n  let isMusicPlayingClick = false; // Flag to track playback\n\n  document.body.addEventListener('click', (event) => {\n\n    if (!isMusicPlayingClick) { // Only play if not already playing\n      playBackgroundMusic();\n      isMusicPlayingClick = true; // Set flag to true after starting playback\n    }\n  });\n}\n\n\n\n//# sourceURL=webpack://gamedev-engine/./src/Sounds.mjs?");

/***/ }),

/***/ "./src/Terrain/Hills.mjs":
/*!*******************************!*\
  !*** ./src/Terrain/Hills.mjs ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHillsBufferGeometry: () => (/* binding */ createHillsBufferGeometry)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _engine_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../engine.mjs */ \"./src/engine.mjs\");\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module '../asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n/* harmony import */ var perlin_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! perlin.js */ \"./node_modules/perlin.js/perlin.js\");\n\n\n\n\n\n\nfunction createHillsBufferGeometry(sizeX, sizeY, N, noiseScale, scaleZ) {\n\n    // TODO: refactor and make readable\n    const uvTex = new three__WEBPACK_IMPORTED_MODULE_3__.TextureLoader().load(\"./images/LiminalTextureLib/Grass2.jpg\");\n    console.log(uvTex)\n    const material01 = new three__WEBPACK_IMPORTED_MODULE_3__.MeshPhongMaterial({ map: uvTex, side: three__WEBPACK_IMPORTED_MODULE_3__.DoubleSide, });\t//   uv grid\n    const geometry = new three__WEBPACK_IMPORTED_MODULE_3__.BufferGeometry();\n    console.log(sizeX, sizeY)\n    // const vertices = new Float32Array([\n    //     -1.0, -1.0, 1.0, // v0\n    //     1.0, -1.0, 1.0, // v1\n    //     1.0, 1.0, 1.0, // v2\n    //     -1.0, 1.0, 1.0, // v3\n    //     // .....\n    // ]);\n    let scale = noiseScale;\n    // Generate perlin noise heightmap\n    let vertices = Array.from({length: N}, (_, x) => Array.from({length: N}, (_, y)=> \n            perlin_js__WEBPACK_IMPORTED_MODULE_2__.perlin2(x/scale, y/scale)\n        ))  \n    // Reduce 2d array of numbers(heights) to 1d array of vertices\n    .reduce((heightList, curRow, i) => {\n        return Array.prototype.concat(\n            heightList,\n            // Map each height to an array with 3 elements\n            curRow\n                .map((height, j)=>[i, height, j])\n                .reduce((vertices, curVertex)=>{\n                    // console.log(vertices, curVertex);\n                    return vertices.concat(curVertex)}, []));\n    }, []);\n\n    let indices1 = Array.from({length: N-1}, (_, x) => Array.from({length: N-1}, (_, y)=> \n        [x + y*N, x+y*N+ 1, x + (y+1)*N]\n    )).reduce((list, curTriangle)=>Array.prototype.concat(list, curTriangle), [])\n    .reduce((list, curTriangle)=>Array.prototype.concat(list, curTriangle), []);\n\n    let indices2 = Array.from({length: N-1}, (_, x) => Array.from({length: N-1}, (_, y)=> \n        [x + (y+1)*N+ 1, x + (y+1)*N, x+y*N+ 1]\n    )).reduce((list, curTriangle)=>Array.prototype.concat(list, curTriangle), [])\n    .reduce((list, curTriangle)=>Array.prototype.concat(list, curTriangle), []);\n    console.log(vertices);\n    // console.log(ind2);\n\n    // const indices = [\n    // // V0 V1 V2\n    //     0, 1, 2,\n    // // V2 V3 V0\n    //     2, 3, 0,\n    // ];\n    let indices = Array.prototype.concat(indices1, indices2);\n    console.log(indices);\n    let repOn = 2;\n    let uvMap = Array.from({ length: N }, (_, x) => Array.from({ length: N }, (_, y) => \n        [(x%repOn)/repOn, (y%repOn)/repOn]\n    )).reduce((list, curTriangle)=>Array.prototype.concat(list, curTriangle), [])\n    .reduce((list, curTriangle)=>Array.prototype.concat(list, curTriangle), []);\n    console.log(vertices);\n\n    console.log(uvMap);\n    geometry.setIndex(indices);\n    geometry.setAttribute('position', new three__WEBPACK_IMPORTED_MODULE_3__.BufferAttribute(new Float32Array(vertices), 3));\n    geometry.setAttribute('uv', new three__WEBPACK_IMPORTED_MODULE_3__.BufferAttribute(new Float32Array(uvMap), 2));\n    geometry.computeVertexNormals();\n\n    // const material = new THREE.MeshPhongMaterial({ color: \"green\" });\n    const mesh = new three__WEBPACK_IMPORTED_MODULE_3__.Mesh(geometry, material01);\n\n    console.log(mesh);\n    mesh.position.set(-sizeX*N/2, -20, -sizeY*N/2);\n    mesh.scale.set(sizeX, scaleZ, sizeY);\n    _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.scene.add(mesh);\n}\n\n\n\n//# sourceURL=webpack://gamedev-engine/./src/Terrain/Hills.mjs?");

/***/ }),

/***/ "./src/ball.mjs":
/*!**********************!*\
  !*** ./src/ball.mjs ***!
  \**********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ballBody: () => (/* binding */ ballBody),\n/* harmony export */   ballMesh: () => (/* binding */ ballMesh),\n/* harmony export */   createBall: () => (/* binding */ createBall),\n/* harmony export */   moveBall: () => (/* binding */ moveBall)\n/* harmony export */ });\n/* harmony import */ var _engine_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./engine.mjs */ \"./src/engine.mjs\");\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module './asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n\n\n\n\nlet ballMesh, ballBody;\n\nfunction createBall(x, y, z) {\n    // Ball\n    const ballMaterialPhysics = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Material(); // Create a new material\n    ballMaterialPhysics.friction = 1;\n    ballMaterialPhysics.restitution = 1.3;\n    const ballShape = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Sphere(1);\n    ballBody = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Body({\n      mass: 5,\n      position: new cannon_es__WEBPACK_IMPORTED_MODULE_2__.Vec3(x, y, z),\n      shape: ballShape,\n      material: ballMaterialPhysics,\n    });\n  \n    ballBody.linearDamping = 0.5;\n  \n    _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.cannonjs_world.addBody(ballBody);\n    const ballGeometry = new three__WEBPACK_IMPORTED_MODULE_3__.SphereGeometry(1, 32, 32);\n    \n    // It is golf. The ball must be white\n    const ballMaterial = new three__WEBPACK_IMPORTED_MODULE_3__.MeshPhongMaterial({ color: 0xffffff });\n    ballMesh = new three__WEBPACK_IMPORTED_MODULE_3__.Mesh(ballGeometry, Object(function webpackMissingModule() { var e = new Error(\"Cannot find module './asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).GolfBall);\n\n    window.ballMesh = ballMesh;\n    window.ballBody = ballBody;\n\n    ballMesh.position.set(x, y, z);\n    _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.scene.add(ballMesh);\n}\nfunction moveBall(ballBody) {\n  // Apply velocity to the ball body\n  ballBody.velocity.set(11, 30, 0);\n\n  // Update ball position based on velocity (call this in your animation loop)\n  function updateBallPosition() {\n    ballMesh.position.copy(ballBody.position);\n  }\n\n  // Add updateBallPosition to the animation loop\n  _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.animationLoop.push(updateBallPosition);\n}\n  \n  \n\n\n//# sourceURL=webpack://gamedev-engine/./src/ball.mjs?");

/***/ }),

/***/ "./src/engine.mjs":
/*!************************!*\
  !*** ./src/engine.mjs ***!
  \************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   engine: () => (/* binding */ engine)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\n/* harmony import */ var _menu_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./menu.mjs */ \"./src/menu.mjs\");\n\n\n\n\nlet engine = {\n    // Start engine\n    init: initEngine,\n    // Game update function\n    update: () => { console.log(\"No update function is set in game engine.\"); engine.isCustomUpdate = false },\n    isCustomUpdate: true,\n    // Game 2d draw function (draws on 2d canvas)\n    draw2d: default_draw,\n    // Events\n    onkeyup: keyCode => { console.log(\"Default keyup. keycode:\", keyCode) },\n    onkeydown: keyCode => { console.log(\"Default keydown. keycode:\", keyCode) },\n    oninit: () => { console.log(\"Default oninit.\") },\n    onmouseup: () => { console.log(\"Mouseup: \", engine.mouseX, engine.mouseY) },\n    onmousedown: () => { console.log(\"Mousedown: \", engine.mouseX, engine.mouseY) },\n    onmousemove: () => { },\n    // context2d objects\n    context2d: null,\n    canvas2d: null,\n    updateTime: 10,\n    mouseX: 0,\n    mouseY: 0,\n    isKeyPressed: new Array(256).fill(0),\n    endlessCanvas: false,\n    // Three js objects\n    scene: null,\n    camera: null,\n    renderer: null,\n    // Cannon js\n    cannonjs_world: null\n};\n\nconst reqAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n    setTimeout(callback, 1000 / 30);\n};\n\n\nfunction updateMousePosition(e) {\n    let boundingRect = engine.canvas2d.getBoundingClientRect();\n    engine.mouseX = e.pageX - boundingRect.x;\n    engine.mouseY = e.pageY - boundingRect.y;\n}\n\nfunction updateMousePositionTouchEvent(e) {\n    let boundingRect = engine.canvas2d.getBoundingClientRect();\n    let touchobj = e.changedTouches[0];\n    engine.mouseX = touchobj.pageX - boundingRect.x;\n    engine.mouseY = touchobj.pageY - boundingRect.y;\n}\n\nfunction init2dCanvas() {\n    // Get engine.canvas element\n    let canvasElement = document.createElement('canvas');\n    canvasElement.id = \"engine-canvas\";\n    document.body.appendChild(canvasElement);\n\n    canvasElement.style.position = \"absolute\"; // Position canvas absolutely\n    canvasElement.style.left = \"0\"; // Align canvas to the left of the parent element\n    canvasElement.style.top = \"0\"; // Align canvas to the top of the parent element\n    canvasElement.style.zIndex = \"1\"; // Set higher zIndex to display over other elements\n    // canvasElement.style.pointerEvents = \"none\"; // Disable pointer events to allow interaction with underlying canvas\n\n    engine.canvas2d = canvasElement;\n    if (engine.endlessCanvas) {\n        engine.canvas2d.width = window.innerWidth;\n        engine.canvas2d.height = window.innerHeight;\n\n        // Change engine.canvas.width and .height on browser resize\n        window.onresize = function () {\n            engine.canvas2d.width = window.innerWidth;\n            engine.canvas2d.height = window.innerHeight;\n        };\n    } else {\n        // Default engine.canvas size\n        engine.canvas2d.width = 800;\n        engine.canvas2d.height = 600;\n    }\n\n    // Get 2d engine.context\n    engine.context2d = engine.canvas2d.getContext(\"2d\");\n    engine.context2d.fillStyle = \"#0000ff\";\n}\n\nfunction initThreeJS() {\n    if (!engine.canvas2d) throw \"2d canvas should be initialized first\";\n\n    engine.scene = new three__WEBPACK_IMPORTED_MODULE_1__.Scene();\n    engine.camera = new three__WEBPACK_IMPORTED_MODULE_1__.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n    engine.renderer = new three__WEBPACK_IMPORTED_MODULE_1__.WebGLRenderer();\n    engine.renderer.setSize(canvas2d.width, canvas2d.height);\n    engine.renderer.domElement.style.margin = 0;\n    document.body.appendChild(engine.renderer.domElement);\n\n    engine.cannonjs_world = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.World();\n    engine.cannonjs_world.gravity.set(0, -9.82, 0); // Set gravity\n    engine.cannonjs_world.broadphase = new cannon_es__WEBPACK_IMPORTED_MODULE_2__.NaiveBroadphase(); // Use naive broadphase\n    engine.cannonjs_world.solver.iterations = 10; // Set solver iterations\n}\n\nfunction initEvents() {\n    // Events for touchscreen devices\n    if ('ontouchstart' in window || navigator.maxTouchPoints) {\n        window.addEventListener(\"touchstart\", function (e) {\n            // Update global mouseX, mouseY variables\n            updateMousePositionTouchEvent(e);\n            engine.onmousedown();\n        });\n        window.addEventListener(\"touchend\", function (e) {\n            updateMousePositionTouchEvent(e);\n            engine.onmouseup();\n        });\n        window.addEventListener(\"touchmove\", function (e) {\n            updateMousePositionTouchEvent(e);\n        });\n    }\n\n    // Update global mouseX, mouseY variables\n    window.addEventListener(\"mousemove\", updateMousePosition);\n\n    // Call mousemove, mouseup, mousedown function from game.js if they exist\n    window.addEventListener(\"mousemove\", (e) => { engine.onmousemove(e) });\n    window.addEventListener(\"mouseup\", (e) => { engine.onmouseup(e) });\n    window.addEventListener(\"mousedown\", () => { engine.onmousedown() });\n\n    // Update global isKeyPressed array\n    window.addEventListener(\"keydown\", function (e) {\n        engine.isKeyPressed[e.keyCode] = 1;\n        engine.onkeydown(e.keyCode);\n    });\n    window.addEventListener(\"keyup\", function (e) {\n        engine.isKeyPressed[e.keyCode] = 0;\n        engine.onkeyup(e.keyCode);\n    });\n}\n// Redraw will be executed many times\nfunction redraw() {\n    if(_menu_mjs__WEBPACK_IMPORTED_MODULE_0__.menuConfig.gameStarted){\n        engine.cannonjs_world.step(1 / 20);\n    }\n    engine.context2d.save();\n\n    // Call draw function from game.js\n    engine.draw2d();\n\n    engine.renderer.render(engine.scene, engine.camera);\n    engine.context2d.restore();\n    // Call redraw after some time (the browser decides this time)\n    reqAnimationFrame(redraw);\n};\n\nfunction default_draw() {\n    engine.context2d.clearRect(0, 0, engine.canvas2d.width, engine.canvas2d.height);\n    engine.context2d.globalAlpha = 1;\n    engine.context2d.fillStyle = \"#FF0000\";\n    engine.context2d.font = \"20px Arial\";\n\n    engine.context2d.fillText(\"No 2d draw function set. (calling default engine.draw2d function).\", 40, 40);\n\n    if (!engine.isCustomUpdate) {\n        engine.isCustomUpdate = true;\n        engine.context2d.fillText(\"No update function set. (calling default engine.update function).\", 40, 80);\n    }\n}\n\n// Init game engine\nfunction initEngine() {\n    \n    init2dCanvas();\n\n    // Attach basic mouse and keyboard events\n    initEvents();\n\n    // Attach common objects to global scope\n    window.engine = engine;\n    window.context2d = engine.context2d;\n    window.canvas2d = engine.canvas2d;\n\n    initThreeJS();\n\n    // Start draw loop\n    redraw();\n    // Start update loop\n    setInterval(() => { engine.update() }, engine.updateTime);\n}\n\n\n\n\n//# sourceURL=webpack://gamedev-engine/./src/engine.mjs?");

/***/ }),

/***/ "./src/firingTheBall.mjs":
/*!*******************************!*\
  !*** ./src/firingTheBall.mjs ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   firingTheBall: () => (/* binding */ firingTheBall)\n/* harmony export */ });\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\n/* harmony import */ var _Sounds_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Sounds.mjs */ \"./src/Sounds.mjs\");\n/* harmony import */ var _ball_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ball.mjs */ \"./src/ball.mjs\");\n/* harmony import */ var _menu_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./menu.mjs */ \"./src/menu.mjs\");\n\n\n\n\n\nlet lastShotTime = 0;\nconst cooldownTime = 10 * 500; // 10 seconds in milliseconds\n\nlet firingTheBall = {\n  power: 1,\n  direction: 0,\n  Shoot: () => { shoot() },\n  isBallShot: false,\n  shotFromWhere: {x: 0, y: 0, z: 0},\n  initUI: initShootingUI\n};\n\nfunction addLabel(id, text, where) {\n  let labelEl = document.createElement(\"label\");\n  labelEl.for = id;\n  labelEl.innerHTML = text;\n  where.appendChild(labelEl);\n}\n\nfunction initShootingUI() {\n  // Create UI elements\n  let inputsDivEl = document.createElement(\"div\");\n  inputsDivEl.id = \"inputs\";\n  inputsDivEl.style.position = \"absolute\";\n  inputsDivEl.style.right = \"0\";\n  inputsDivEl.style.top = \"0\";\n  inputsDivEl.style.display = \"flex\";\n  inputsDivEl.style.flexDirection = \"column\";\n  inputsDivEl.style.justifyContent = \"start\";\n  inputsDivEl.style.gap = \"10px\";\n  document.body.appendChild(inputsDivEl);\n\n  let powerSliderEl = document.createElement(\"input\");\n  powerSliderEl.type = \"range\";\n  powerSliderEl.id = \"power\";\n  powerSliderEl.min = 0.1;\n  powerSliderEl.max = 100;\n  powerSliderEl.step = 0.1\n  powerSliderEl.value = 1;\n  addLabel(\"power\", \"Power:\", inputsDivEl);\n  inputsDivEl.appendChild(powerSliderEl);\n\n\n  let shootButtonEl = document.createElement(\"button\");\n  shootButtonEl.id = \"shootB\";\n  shootButtonEl.innerHTML = \"Shoot\";\n  shootButtonEl.onclick = shoot;\n  inputsDivEl.appendChild(shootButtonEl);\n\n  powerSliderEl.addEventListener(\"input\", () => {\n    firingTheBall.power = parseFloat(powerSliderEl.value);\n  });\n}\n\nfunction shoot() {\n  const currentTime = Date.now();\n  \n  // Check if enough time has passed since the last shot\n  if (currentTime - lastShotTime < cooldownTime) {0\n    console.log(\"Cooldown period active. Ostavat ti owe\", (currentTime - lastShotTime)/1000, \"sekundi do 5\" );\n    return;\n  }\n\n  // Reset last shot time to current time\n  lastShotTime = currentTime;\n\n  firingTheBall.isBallShot = true;\n  if (_menu_mjs__WEBPACK_IMPORTED_MODULE_2__.menuConfig.sfxEnabled) { \n    (0,_Sounds_mjs__WEBPACK_IMPORTED_MODULE_0__.playRandomSoundEffect)(); \n  }\n  firingTheBall.shotFromWhere.x = _ball_mjs__WEBPACK_IMPORTED_MODULE_1__.ballBody.position.x;\n  firingTheBall.shotFromWhere.y = _ball_mjs__WEBPACK_IMPORTED_MODULE_1__.ballBody.position.y;\n  firingTheBall.shotFromWhere.z = _ball_mjs__WEBPACK_IMPORTED_MODULE_1__.ballBody.position.z;\n\n  if (_ball_mjs__WEBPACK_IMPORTED_MODULE_1__.ballBody.type == cannon_es__WEBPACK_IMPORTED_MODULE_3__.Body.STATIC) {\n    _ball_mjs__WEBPACK_IMPORTED_MODULE_1__.ballBody.type = cannon_es__WEBPACK_IMPORTED_MODULE_3__.Body.DYNAMIC;\n  }\n\n  let calPower = firingTheBall.power;\n  let calDirection = firingTheBall.direction;\n\n  let impulse = new cannon_es__WEBPACK_IMPORTED_MODULE_3__.Vec3(Math.cos(calDirection) * calPower, 0, Math.sin(calDirection) * calPower);\n  let relativePoint = new cannon_es__WEBPACK_IMPORTED_MODULE_3__.Vec3();\n  _ball_mjs__WEBPACK_IMPORTED_MODULE_1__.ballBody.applyImpulse(impulse, relativePoint);\n}\n\n\n\n\n//# sourceURL=webpack://gamedev-engine/./src/firingTheBall.mjs?");

/***/ }),

/***/ "./src/game.mjs":
/*!**********************!*\
  !*** ./src/game.mjs ***!
  \**********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   game: () => (/* binding */ game)\n/* harmony export */ });\n/* harmony import */ var _engine_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./engine.mjs */ \"./src/engine.mjs\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var cannon_es__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! cannon-es */ \"./node_modules/cannon-es/dist/cannon-es.js\");\n/* harmony import */ var three_addons_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! three/addons/controls/OrbitControls.js */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var _BuildingBlocks_Ramp_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BuildingBlocks/Ramp.mjs */ \"./src/BuildingBlocks/Ramp.mjs\");\n/* harmony import */ var _BuildingBlocks_BuildingBlock_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BuildingBlocks/BuildingBlock.mjs */ \"./src/BuildingBlocks/BuildingBlock.mjs\");\n/* harmony import */ var _BuildingBlocks_MovingPlatform_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BuildingBlocks/MovingPlatform.mjs */ \"./src/BuildingBlocks/MovingPlatform.mjs\");\n/* harmony import */ var _BuildingBlocks_Cylinder_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BuildingBlocks/Cylinder.mjs */ \"./src/BuildingBlocks/Cylinder.mjs\");\n/* harmony import */ var _BuildingBlocks_GolfHole_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./BuildingBlocks/GolfHole.mjs */ \"./src/BuildingBlocks/GolfHole.mjs\");\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module './asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n/* harmony import */ var _firingTheBall_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./firingTheBall.mjs */ \"./src/firingTheBall.mjs\");\n/* harmony import */ var _Sounds_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Sounds.mjs */ \"./src/Sounds.mjs\");\n/* harmony import */ var _BuildingBlock_no_collision_pine_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BuildingBlock_no_collision/pine.mjs */ \"./src/BuildingBlock_no_collision/pine.mjs\");\n/* harmony import */ var _ball_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ball.mjs */ \"./src/ball.mjs\");\n/* harmony import */ var _BuildingBlocks_Particle_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./BuildingBlocks/Particle.mjs */ \"./src/BuildingBlocks/Particle.mjs\");\n/* harmony import */ var _menu_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./menu.mjs */ \"./src/menu.mjs\");\n/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils.mjs */ \"./src/utils.mjs\");\n/* harmony import */ var _Terrain_Hills_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Terrain/Hills.mjs */ \"./src/Terrain/Hills.mjs\");\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    // Visuals for the game\n    \n    \n    \n    \n    \n    \n    \n    \n    \n\n    const orbitControls = true;\n    let controls = null;\n\n    function createGround() {\n        // Create ground plane\n        const groundShape = new cannon_es__WEBPACK_IMPORTED_MODULE_15__.Plane();\n        const groundBody = new cannon_es__WEBPACK_IMPORTED_MODULE_15__.Body({ mass: 2, shape: groundShape });\n        groundBody.quaternion.setFromAxisAngle(new cannon_es__WEBPACK_IMPORTED_MODULE_15__.Vec3(1, 0, 0), -Math.PI / 2); // Set rotation to align with Cannon.js\n        groundBody.position.set(0, 0, 0); // Set position\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.cannonjs_world.addBody(groundBody);\n\n        // Create visual representation of ground (in Three.js)\n        const groundGeometry = new three__WEBPACK_IMPORTED_MODULE_16__.PlaneGeometry(100, 100);\n        const groundMaterial = new three__WEBPACK_IMPORTED_MODULE_16__.MeshPhongMaterial({ color: 0x00ff00, side: three__WEBPACK_IMPORTED_MODULE_16__.DoubleSide });\n        const groundMesh = new three__WEBPACK_IMPORTED_MODULE_16__.Mesh(groundGeometry, groundMaterial);\n        groundMesh.rotation.x = -Math.PI / 2; // Rotate to align with Cannon.js\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.scene.add(groundMesh);\n    }\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.onmouseup = ((e) => {\n            let mouseX = e.clientX;\n            let mouseY = e.clientY;\n    if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_13__.areColliding)(mouseX, mouseY, 1, 1, 275, 200, 250, 100)) { //Play\n        (0,_ball_mjs__WEBPACK_IMPORTED_MODULE_10__.moveBall)();\n\n    }\n})\n    function initCamera() {\n        // Init camera\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.camera.position.set(0, 20, 80);\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.camera.lookAt(0, 10, 0);\n\n        // Change far frustum plane to account for skybox\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.camera.far = 10000;\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.camera.updateProjectionMatrix();\n    }\n\n    function initLights() {\n        // Ambient light is now the skybox\n        const ambientLight = new three__WEBPACK_IMPORTED_MODULE_16__.AmbientLight(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module './asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()), 1);\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.scene.add(ambientLight);\n\n        // Directional light is white to not tint the Phong material too much\n        const directionalLight = new three__WEBPACK_IMPORTED_MODULE_16__.DirectionalLight(0xffffff, 1);\n        directionalLight.position.set(10, 20, 10);\n        directionalLight.lookAt(0, 0, 0);\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.scene.add(directionalLight);\n    }\n\n    function initLevel() {\n        // createGround();\n        const block1 = new _BuildingBlocks_BuildingBlock_mjs__WEBPACK_IMPORTED_MODULE_2__.BuildingBlock(0, 5, 0, 20, 10, 20);\n        // const block2 = new BuildingBlock(20, 0, 0, 50, 10, 20);\n\n        // new BuildingBlock(0, 5, 0, 20, 10, 20);\n        new _BuildingBlocks_Ramp_mjs__WEBPACK_IMPORTED_MODULE_1__.Ramp(16.5, 2.5, 0, 20, Math.PI, Math.PI / 4);\n        new _BuildingBlocks_Ramp_mjs__WEBPACK_IMPORTED_MODULE_1__.Ramp(33, -5.2, 0, 20, 0, 0);\n\n        new _BuildingBlocks_BuildingBlock_mjs__WEBPACK_IMPORTED_MODULE_2__.BuildingBlock(30, -10, 0, 40, 10, 20);\n\n        new _BuildingBlocks_MovingPlatform_mjs__WEBPACK_IMPORTED_MODULE_3__.MovingPlatform(15, 20, 20, 30, 30, 30, 20, 1, 15);\n        new _BuildingBlocks_Cylinder_mjs__WEBPACK_IMPORTED_MODULE_4__.Cylinder(25, 0, 2, 5, 5);\n        new _BuildingBlocks_GolfHole_mjs__WEBPACK_IMPORTED_MODULE_5__.GolfHole(51.2, -6, 0, 1.8, 1, 2.1, 64, 12, 51.2, -5.9, 0, 1, 2, 2);\n        (0,_BuildingBlock_no_collision_pine_mjs__WEBPACK_IMPORTED_MODULE_9__.createPineTree)(0, 20, 0);\n    }\n\n    let ballDirectionMesh = [];\n    function initBallDirectionArrows() {\n        let colors = [0xffd000, 0xff9900, 0xff0000];\n        for (let i = 0; i < 3; i++) {\n            const ballDirectionGeometry = new three__WEBPACK_IMPORTED_MODULE_16__.ConeGeometry(0.5, 5, 5);\n            const ballDirectionMaterial = new three__WEBPACK_IMPORTED_MODULE_16__.MeshPhongMaterial({ color: colors[i], flatShading: true });\n            ballDirectionMesh.push(new three__WEBPACK_IMPORTED_MODULE_16__.Mesh(ballDirectionGeometry, ballDirectionMaterial));\n            ballDirectionMesh[i].position.set(5, 30 + 4 * i, 0);\n\n            _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.scene.add(ballDirectionMesh[i]);\n        }\n    }\n\n    let time = 0;\n    function initGame() {\n        // initSoundEvents();\n        if (_menu_mjs__WEBPACK_IMPORTED_MODULE_12__.menuConfig.showMenu) {\n            (0,_menu_mjs__WEBPACK_IMPORTED_MODULE_12__.initMenu)(initLevel);\n        } else {\n            _menu_mjs__WEBPACK_IMPORTED_MODULE_12__.menuConfig.gameStarted = true;\n            (0,_Sounds_mjs__WEBPACK_IMPORTED_MODULE_8__.initSoundEvents)();\n            initLevel();\n        }\n        // Create ball and attach to window\n        (0,_ball_mjs__WEBPACK_IMPORTED_MODULE_10__.createBall)(11, 30, 0);\n\n        (0,_Terrain_Hills_mjs__WEBPACK_IMPORTED_MODULE_14__.createHillsBufferGeometry)(10, 10, 100, 5, 20);\n        // Init slider and buttons for firing the ball\n        _firingTheBall_mjs__WEBPACK_IMPORTED_MODULE_7__.firingTheBall.initUI();\n\n        // Setup camera position\n        initCamera();\n\n        // Init orbit controls\n        if (orbitControls) {\n            controls = new three_addons_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_17__.OrbitControls(_engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.camera, _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.canvas2d);\n            controls.target = _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballMesh.position;\n            controls.maxDistance = 150\n            controls.enableDamping = true\n            controls.dampingFactor = .1\n            if (_menu_mjs__WEBPACK_IMPORTED_MODULE_12__.menuConfig.gameStarted == false) {\n                controls.autoRotate = true\n                controls.autoRotateSpeed = 0.5\n            }\n        }\n        initLights();\n\n        initBallDirectionArrows();\n\n        // Init skybox\n        const skybox = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module './asset_loading/assets_3d.mjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\n\n        // DEBUG spawn test emitter\n\n        let lastDX, lastDY, lastDZ;\n\n        // Set custom update function\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.update = () => {\n            time++;\n            if (controls) controls.update();\n\n            // Update all particle systems\n            (0,_BuildingBlocks_Particle_mjs__WEBPACK_IMPORTED_MODULE_11__.updateEmitters)();\n\n            // Update ball mesh position\n            _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballMesh.position.copy(_ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.position);\n\n            const bounceThreshold = 3;\n\n            function checkBounce(lastVelocities, currentVelocities) {\n                return Object.keys(currentVelocities).some(axis =>\n                    Math.abs(lastVelocities[axis] - currentVelocities[axis]) > bounceThreshold\n                );\n            }\n\n            const currentVelocities = { x: _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.velocity.x, y: _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.velocity.y, z: _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.velocity.z };\n\n            if (checkBounce({ x: lastDX, y: lastDY, z: lastDZ }, currentVelocities)) {\n                (0,_BuildingBlocks_Particle_mjs__WEBPACK_IMPORTED_MODULE_11__.createNewEmitter)(_ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.position.x, _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.position.y, _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.position.z, \"burst\", { particle_cnt: 50, particle_lifetime: { min: 0.2, max: 0.5 }, power: 0.05, fired: false });\n                (0,_Sounds_mjs__WEBPACK_IMPORTED_MODULE_8__.playRandomSoundEffectFall)();\n            }\n            lastDX = currentVelocities.x;\n            lastDY = currentVelocities.y;\n            lastDZ = currentVelocities.z;\n            make_the_ball_static_when_is_not_moving();\n\n            adjust_the_ball_direction();\n\n            show_the_ball_direction();\n\n            if (_ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.position.y < -50) { // Respawns the ball if it has fallen beneath the map\n                _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.position.set(_firingTheBall_mjs__WEBPACK_IMPORTED_MODULE_7__.firingTheBall.shotFromWhere.x, _firingTheBall_mjs__WEBPACK_IMPORTED_MODULE_7__.firingTheBall.shotFromWhere.y, _firingTheBall_mjs__WEBPACK_IMPORTED_MODULE_7__.firingTheBall.shotFromWhere.z);\n                _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.type = cannon_es__WEBPACK_IMPORTED_MODULE_15__.Body.STATIC;\n                _firingTheBall_mjs__WEBPACK_IMPORTED_MODULE_7__.firingTheBall.isBallShot = false;\n            }\n        };\n    }\n    function make_the_ball_static_when_is_not_moving() {\n        const velocityThreshold = 0;\n        const timeInterval = 10;\n    \n        if (time % timeInterval === 0 && _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.velocity.length() < velocityThreshold) {\n            const groundRay = new cannon_es__WEBPACK_IMPORTED_MODULE_15__.Ray(\n                new cannon_es__WEBPACK_IMPORTED_MODULE_15__.Vec3(_ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.position.x, _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.position.y - 1.1, _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.position.z),\n                new cannon_es__WEBPACK_IMPORTED_MODULE_15__.Vec3(_ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.position.x, _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.position.y - 1.2, _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.position.z)\n            );\n    \n            const intersect = groundRay.intersectWorld(_engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.cannonjs_world, {});\n    \n            if (intersect) {\n                _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballBody.type = cannon_es__WEBPACK_IMPORTED_MODULE_15__.Body.STATIC;\n                _firingTheBall_mjs__WEBPACK_IMPORTED_MODULE_7__.firingTheBall.isBallShot = false;\n            }\n\n        }\n    }\n\n    function adjust_the_ball_direction() {\n        _firingTheBall_mjs__WEBPACK_IMPORTED_MODULE_7__.firingTheBall.direction = Math.atan2(_ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballMesh.position.z - _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.camera.position.z, _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballMesh.position.x - _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.camera.position.x);\n    }\n\n    function show_the_ball_direction() {\n        for (let i = 0; i < 3; i++) {\n            if (_firingTheBall_mjs__WEBPACK_IMPORTED_MODULE_7__.firingTheBall.isBallShot) {\n                ballDirectionMesh[i].visible = false;\n                continue;\n            }\n            if (ballDirectionMesh[i] !== undefined) {\n                // Calculates the needed arrows\n                if (i <= Math.floor(Math.abs((_firingTheBall_mjs__WEBPACK_IMPORTED_MODULE_7__.firingTheBall.power + 20) / 100) * 2)) {\n                    ballDirectionMesh[i].visible = true;\n\n                    ballDirectionMesh[i].position.set(\n                        _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballMesh.position.x + Math.cos(_firingTheBall_mjs__WEBPACK_IMPORTED_MODULE_7__.firingTheBall.direction) * 3.5 * (i + 1),\n                        _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballMesh.position.y,\n                        _ball_mjs__WEBPACK_IMPORTED_MODULE_10__.ballMesh.position.z + Math.sin(_firingTheBall_mjs__WEBPACK_IMPORTED_MODULE_7__.firingTheBall.direction) * 3.5 * (i + 1)\n                    );\n\n                    ballDirectionMesh[i].rotation.x = Math.PI / 2;\n                    ballDirectionMesh[i].rotation.y = 0;\n                    ballDirectionMesh[i].rotation.z = _firingTheBall_mjs__WEBPACK_IMPORTED_MODULE_7__.firingTheBall.direction - Math.PI / 2;\n\n                } else {\n                    ballDirectionMesh[i].visible = false;\n                }\n            }\n        }\n    }\n\n    let game = {\n        init: initGame\n    };\n\n    \n\n\n//# sourceURL=webpack://gamedev-engine/./src/game.mjs?");

/***/ }),

/***/ "./src/menu.mjs":
/*!**********************!*\
  !*** ./src/menu.mjs ***!
  \**********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Menu: () => (/* binding */ Menu),\n/* harmony export */   initMenu: () => (/* binding */ initMenu),\n/* harmony export */   menuConfig: () => (/* binding */ menuConfig)\n/* harmony export */ });\n/* harmony import */ var _engine_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./engine.mjs */ \"./src/engine.mjs\");\n/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.mjs */ \"./src/utils.mjs\");\n/* harmony import */ var _Sounds_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Sounds.mjs */ \"./src/Sounds.mjs\");\n\n\n\n\n\nfunction initMenu(onPlayButtonCB) {\n    let menu = new Menu();\n    // Set custom draw function\n    _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.draw2d = (() => {\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.context2d.clearRect(0, 0, _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.canvas2d.width, _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.canvas2d.height);\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.context2d.strokeRect(0, 0, canvas2d.width, canvas2d.height);\n        menu.draw()\n    });\n    _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.onmouseup = ((e) => {\n        let mouseX = e.clientX;\n        let mouseY = e.clientY;\n        console.log(e, mouseX, mouseY)\n        if (!menuConfig.gameStarted) {\n            if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.areColliding)(mouseX, mouseY, 1, 1, 275, 200, 250, 100)) { //Play\n                //initGame();\n                onPlayButtonCB();\n                menu.startSimulation();\n            }\n            if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.areColliding)(mouseX, mouseY, 1, 1, 175, 475, 200, 75)) { //Music\n                menu.toggleMusic()\n            }\n            if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.areColliding)(mouseX, mouseY, 1, 1, 425, 475, 200, 75)) { //Sfx\n                menu.toggleSfx()\n            }\n        }\n    })\n    return menu;\n}\n\nclass Menu {\n    constructor(){\n    }\n    draw(){\n        //play button\n        (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.createButton)(\"Play\",275,175,250,100,\"red\",50,\"white\");\n        //skins button - no functionality\n        (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.createButton)(\"Skins\",275,300,250,100,\"red\",50,\"white\");\n        //music toggle button - should be replaced with icon\n        if(menuConfig.musicEnabled){\n            (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.createButton)(\"Toggle music\",175,475,200,75,\"red\",30,\"white\");\n        }else{\n            (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.createButton)(\"Toggle music\",175,475,200,75,\"grey\",30,\"white\");\n        }\n        //SFX toggle button - should be replaced with icon\n        if(menuConfig.sfxEnabled){\n            (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.createButton)(\"Toggle SFX\",425,475,200,75,\"red\",30,\"white\");\n        }else{\n            (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.createButton)(\"Toggle SFX\",425,475,200,75,\"grey\",30,\"white\");\n        }\n    }\n    startSimulation(){\n        _engine_mjs__WEBPACK_IMPORTED_MODULE_0__.engine.context2d.globalAlpha = 0;\n        menuConfig.gameStarted = true;\n        if(menuConfig.musicEnabled){ //there is no pause menu so this should work for now\n            (0,_Sounds_mjs__WEBPACK_IMPORTED_MODULE_2__.playMusic)();\n        }\n    }\n    toggleMusic(){\n        menuConfig.musicEnabled = !menuConfig.musicEnabled\n    }\n    toggleSfx(){\n        menuConfig.sfxEnabled = !menuConfig.sfxEnabled\n    }\n}\n\nlet menuConfig = {\n    gameStarted: false,\n    musicEnabled: true,\n    sfxEnabled: true,\n    showMenu: true\n}\n\n\n\n//# sourceURL=webpack://gamedev-engine/./src/menu.mjs?");

/***/ }),

/***/ "./src/utils.mjs":
/*!***********************!*\
  !*** ./src/utils.mjs ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   areColliding: () => (/* binding */ areColliding),\n/* harmony export */   createButton: () => (/* binding */ createButton),\n/* harmony export */   drawImage: () => (/* binding */ drawImage),\n/* harmony export */   drawLine: () => (/* binding */ drawLine),\n/* harmony export */   isFunction: () => (/* binding */ isFunction),\n/* harmony export */   randomInteger: () => (/* binding */ randomInteger)\n/* harmony export */ });\nfunction areColliding(Ax, Ay, Awidth, Aheight, Bx, By, Bwidth, Bheight) {\n    if (Bx <= Ax + Awidth) {\n        if (Ax <= Bx + Bwidth) {\n            if (By <= Ay + Aheight) {\n                if (Ay <= By + Bheight) {\n                    return 1;\n                }\n            }\n        }\n    }\n    return 0;\n};\n\nfunction randomInteger(upTo) {\n    return Math.floor(Math.random() * upTo);\n}\n\nfunction drawLine(startX, startY, endX, endY) {\n    // For better performance bunch calls to lineTo without beginPath() and stroke() inbetween.\n    engine.context2d.beginPath(); // resets the current path\n    engine.context2d.moveTo(startX, startY);\n    engine.context2d.lineTo(endX, endY);\n    engine.context2d.stroke();\n}\nfunction drawImage(myImageObject, x, y, xs, ys) {\n    myImageObject.draw(x, y, xs, ys);\n}\n\nfunction isFunction(f) {\n    return typeof (f) == \"function\";\n}\n\nfunction createButton(text,x,y,w,h,buttonCol,fontsize,textCol, font = \"Arial\"){\n    //Create background\n    engine.context2d.fillStyle = buttonCol;\n    engine.context2d.fillRect(x,y,w,h);\n    //Create text\n    engine.context2d.fillStyle = textCol;\n    engine.context2d.font = fontsize + \"px \" + font;\n    //i do not know why this works, it but it just does\n    engine.context2d.fillText(text,x + w/2 - (text.length*fontsize)/4, y + h/2 + fontsize/3); \n}\n\n\n//# sourceURL=webpack://gamedev-engine/./src/utils.mjs?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/init.js");
/******/ 	
/******/ })()
;